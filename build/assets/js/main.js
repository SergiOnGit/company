!function(e){function o(e){return segments=e.split("/"),pageName=segments[1],newsId=segments[2],[pageName,newsId]}function n(o,n,t){var s=e(".news-item-modal-box"),a=e("#news-item-modal-content");n===!0&&0!=o&&1!=t?(i.addClass("open-news"),history.pushState?history.pushState(null,null,"#/news/"+o):document.location.hash="/news/"+o,s.fadeIn("normal").scrollTop(0),a.addClass("open")):t===!0?e("#news").trigger("click"):(i.removeClass("open-news"),history.pushState?history.pushState(null,null,"#/news/"):document.location.hash="/news",s.fadeOut("normal"),a.removeClass("open"))}var t=e("body"),s=e(".page-block"),a=e(".slider-box"),i=e("#page-modal"),l=e("#page-modal-close"),c=e("#page-modal-content");e(window).resize(function(o){var n=e(window).width();if(n>959){var t=s.outerHeight();a.height(2*t+20)}else a.height("auto")}).resize(),e(".slider-caption-more").click(function(){o(document.location.hash),n(newsId,!0,!0)}),e(window).on("load",function(){o(document.location.hash),s.each(function(o,n){pageName==e(this).attr("id")&&e(this).trigger("click")})}),s.click(function(s){t.addClass("open");var a=e(this).attr("id"),d=e(this).css("background-color");l.addClass("open"),i.css("background-color",d).addClass("open").fadeIn(400).scrollTop(0),c.load("pages/"+a+".html",function(){var s=e("#page"),d=e(".news-item-more"),h=e("#news-item-modal-close");o(document.location.hash),console.log(document.location.hash),"news"==pageName&&void 0!=newsId?e(".news-item-more").each(function(){e(this).attr("news-id")==newsId&&setTimeout(function(){n(newsId,!0)},1e3)}):""==document.location.hash&&(history.pushState?history.pushState(null,null,"#/"+a):document.location.hash="/"+a),s.addClass(a),setTimeout(function(){s.addClass("open")},300),e(".img-fade").each(function(){e(this).on("load",function(){e(this).fadeIn()})}),d.click(function(o){var t=e(this).attr("news-id");n(t,!0)}),h.click(function(e){n(!1,!0)}),l.click(function(e){t.removeClass("open"),history.pushState?history.pushState(null,null," "):document.location.hash=" ",o(document.location.hash),i.removeClass("open").fadeOut(400),s.removeClass("open"),l.removeClass("open"),setTimeout(function(){i.hide(),c.empty()},400)})})})}(jQuery);